# .travis.yml -- Travis CI configuration for the MPS
# $Id$
# See <http://about.travis-ci.org/docs/user/languages/c/>.
language: c
os:
  - linux
    - install:
      - sudo apt-get install automake autoconf
  - osx
    - install:
      - brew install automake autoconf
compiler:
  - clang
  - gcc
matrix:
  exclude:
    - os: osx
      compiler: gcc
before install:
  - test "$TRAVIS_OS_NAME" == "osx" && brew update
  - test "$TRAVIS_OS_NAME" == "osx" && brew install automake autoconf
  - test "$TRAVIS_OS_NAME" == "linux" && apt-get -qq update
  - test "$TRAVIS_OS_NAME" == "linux" && apt-get install -y automake autoconf
notifications:
  email:
    - mps-travis@ravenbrook.com
  irc: "irc.freenode.net#memorypoolsystem"
script:
  - ./configure --prefix=$PWD/prefix && make install && make test
